<!--
(使用用途)
利用者申請の利用者登録時、その登録する情報を確認する画面で使用
 -->
{% extends 'base.html' %}

{% block title %}
<title>確認</title>
{% endblock %}

{% block content %}
<form id="submit_id" action="regist" method="POST">
    <input type="hidden" value="{{form['username']}}" name="username" />
    <input type="hidden" value="{{form['regist_date']}}" name="regist_date" />
    <input type="hidden" value="{{form['tel_number']}}" name="tel_number" />
    <input type="hidden" value="{{form['email']}}" name="email" />
    <input type="hidden" value="{{form['belonging_department']}}" name="belonging_department" />
    <input type="hidden" value="{{form['company_id']}}" name="company_id" />
    <input type="hidden" value="{{form['project_name']}}" name="project_name" />
    <input type="hidden" value="{{form['system_name']}}" name="system_name" />
    <input type="hidden" value="{{form['type']}}" name="type" />
    <input type="hidden" value="{{form['memo']}}" name="memo" />
    {% if registId %}
        <input type="hidden" value="{{registId}}" name="id" />
    {% endif %}
    <div class="container">
        <h3>登録情報の確認</h3>
        <p>登録内容を確認して下さい</p>
        <div class="row">
            <div class="col-md-6">
                <table class="table table-bordered">
                    {% for key,value in form.items() %}
                    <tr>
                        {% if key=='username' %}
                            {% set key = '申請者名' %}
                        {% endif %}
                        {% if key=='regist_date' %}
                            {% set key = '引き渡し希望日' %}
                        {% endif %}
                        {% if key=='belonging_department' %}
                            {% set key = '所属部署' %}
                        {% endif %}
                        {% if key=='company_id' %}
                            {% set key = '会社名' %}
                        {% endif %}
                        {% if key=='use_app_id' %}
                            {% set key = '種別' %}
                        {% endif %}
                        <td style="background-color: #FFFFE0; border: 1px solid #000;"><strong>{{key}}</strong></td>
                        <td style="background-color: white; border: 1px solid #000;">{{value}}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
        <div class="form-group">
            <a href="/user_req"><input id="return_data" type="button" class="btn btn-dark" value="戻る"/></a>
            <input id="submit" type="submit" class="btn btn-primary" value="登録"/>
        </div>
    </div>
</form>
<script>
    document.getElementById('submit_id').addEventListener('submit', function(event) {
        let result = confirm('本当に登録しますか？');
        if (!result) {
<!--           キャンセルされた場合、フォームの送信を停止する-->
            event.preventDefault();
        }
    });
</script>
{% endblock %}